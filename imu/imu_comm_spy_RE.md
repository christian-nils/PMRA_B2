# IMU-MCU (U2) SPI communication recording

U2 is the main MCU of the board. The SPI communication was recorded when starting the mainboard by keeping the start button to few seconds in after receiving IMU data. Below is the interpreted communication. You'll find the raw data in [here](./imu_comm_spy_raw.txt).

# Initialization command

U2: 0x7f 0x00
U2: 0x8f -> IMU: 0x61

U2: 0x7f 0x00
U2: 0x8f -> IMU: 0x61

U2: 0x7f 0x01
U2: 0xdd -> IMU: 0x20

U2: 0x7f 0x01
U2: 0xdd -> IMU: 0x20

U2: 0x7f 0x01
U2: 0x40 0x38

U2: 0x7f 0x01
U2: 0x53 0x16

U2: 0x7f 0x01
U2: 0x42 0x10

U2: 0x7f 0x01
U2: 0x40 0x3e

U2: 0x7f 0x01
U2: 0x53 0x12

U2: 0x7f 0x01
U2: 0x42 0x20

U2: 0x7f 0x01
U2: 0x53 0x11

U2: 0x7f 0x01
U2: 0x55 0x02

U2: 0x7f 0x01
U2: 0x53 0x12

U2: 0x7f 0x01
U2: 0x55 0x00

U2: 0x7f 0x01
U2: 0x54 0x08

U2: 0x7f 0x01
U2: 0x54 0x00

U2: 0x7f 0x01
U2: 0x3b 0x18

U2: 0x7f 0x01
U2: 0x39 0x18

U2: 0x7f 0x01
U2: 0x3a 0x18

U2: 0x7f 0x01
U2: 0x3b 0x00

U2: 0x7f 0x01
U2: 0x39 0x00

U2: 0x7f 0x01
U2: 0x3a 0x00

U2: 0x7f 0x00
U2: 0xa2 -> IMU: 0x01

U2: 0x7f 0x00
U2: 0x22 0x01

U2: 0x7f 0x00
U2: 0x23 0x03

U2: 0x7f 0x00
U2: 0x25 0x04

U2: 0x7f 0x00
U2: 0xa6 -> IMU: 0x20

U2: 0x7f 0x00
U2: 0x26 0x20

U2: 0x7f 0x00
U2: 0xa8 -> IMU: 0x01

U2: 0x7f 0x00
U2: 0x28 0x01

U2: 0x7f 0x00
U2: 0x29 0x03

U2: 0x7f 0x01
U2: 0x0f 0x03

U2: 0x7f 0x01
U2: 0x1f 0x03

U2: 0x7f 0x01
U2: 0x2f 0x03

U2: 0x7f 0x00
U2: 0xab -> IMU: 0x01

U2: 0x7f 0x00
U2: 0x2b 0x0D

U2: 0x7f 0x00
U2: 0xa0 -> IMU: 0xb9

U2: 0x7f 0x00
U2: 0x20 0xb9

U2: 0x7f 0x01
U2: 0xDf -> IMU: 0x61

U2: 0x7f 0x01
U2: 0x81 -> IMU: 0x04 0xff

U2: 0x7f 0x01
U2: 0x91 -> IMU: 0xfc 0xfb

U2: 0x7f 0x01
U2: 0xa1 -> IMU: 0xf1 0x13

U2: 0x7f 0x00
U2: 0xe0 -> IMU: 0x03

U2: 0x7f 0x00
U2: 0xe8 -> IMU: 0x01

U2: 0x7f 0x00
U2: 0xf0 -> IMU: 0x07

U2: 0x7f 0x01
U2: 0x8f -> IMU: 0x03

U2: 0x7f 0x01
U2: 0x9f -> IMU: 0x03

U2: 0x7f 0x01
U2: 0xaf -> IMU: 0x03

U2: 0x7f 0x00
U2: 0xae -> IMU: 0x0D


# Data Polling (looping)

U2: 0x7f 0x00
U2: 0xa0 -> IMU: 0xb9 0x94 

U2: 0x7f 0x00 
U2: 0x8c -> IMU: var 0xf9 (Note: var is a value around 0x65, it does change)

U2: 0x7f 0x00 
U2: 0x80 -> IMU: ax_lsb ax_msb ay_lsb ay_msb az_lsb az_msb gx_lsb gx_msb gy_lsb gy_msb gz_lsb gz_msb (Note: this is determine by moving the mainboard axis, after axis)
